!function(o){"use strict";o.fn.fileinput=function(p){function r(e){function t(e,t){return t.toUpper()}var n={},l=e.data();for(var i in l)if(l.hasOwnProperty(i)){var s=l[i];"yes"===s||"y"===s?s=!0:"no"!==s&&"n"!==s||(s=!1),n[i.replace(/-(\w)/g,t)]=s}return n}p=o.extend({title:"Browse...",multipleText:"{0} files",showMultipleNames:!1,buttonClass:"btn btn-default",selectedClass:"file-selected",clearButton:'<button type="button" class="fileinput-clear close">&times;</button>',complete:function(){}},p||{}),this.each(function(e,t){var n=o(t),l=o.extend(!0,p,r(n));if(void 0===n.attr("data-fileinput-disabled")){var i=l.title;n.attr("title")&&(i=n.attr("title"));var s=l.buttonClass;n.attr("class")&&(s=n.attr("class")),n.wrap('<span class="'+o.trim("fileinput "+s)+'"></span>'),n.closest(".fileinput").prepend(o("<span></span>").html(i)),n.closest(".fileinput").wrap(o('<span class="fileinput-wrapper"></span>')),"function"==typeof l.complete&&l.complete.call(this)}}).promise().done(function(){o(document).on("change",".fileinput input[type=file]",function(){var e=o(this),t=e.closest(".fileinput-wrapper"),n=e.val(),l=o.extend(!0,p,r(e));if(t.removeClass(l.selectedClass).find(".fileinput-name").remove(),e.prop("files")&&1<e.prop("files").length)if(l.showMultipleNames){for(var i=[],s=0,a=e[0].files.length;s<a;s++)i.push(e[0].files[s].name);n=i.join(", ")}else n=l.multipleText.replace("{0}",e[0].files.length);else n=n.substring(n.lastIndexOf("\\")+1,n.length);n&&t.addClass(l.selectedClass).append('<span class="fileinput-name">'+n+l.clearButton+"</span>")}),o(document).on("click",".fileinput-clear",function(e){e.preventDefault();var t=o(this).closest(".fileinput-wrapper"),n=t.find("input[type=file]"),l=o.extend(!0,p,r(n));n.replaceWith(n.val("").clone(!0)),t.find(".fileinput-name").remove(),t.find("input").trigger("change").trigger("input"),t.removeClass(l.selectedClass)})})}}(jQuery);