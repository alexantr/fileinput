!function(e){"use strict";e.fn.fileinput=function(t){function n(e){function t(e,t){return t.toUpper()}var n={},l=e.data();for(var i in l)if(l.hasOwnProperty(i)){var s=l[i];"yes"===s||"y"===s?s=!0:"no"!==s&&"n"!==s||(s=!1),n[i.replace(/-(\w)/g,t)]=s}return n}t=e.extend({title:"Browse...",multipleText:"{0} files",showMultipleNames:!1,buttonClass:"btn btn-default",selectedClass:"file-selected",clearButton:'<button type="button" class="fileinput-clear close">&times;</button>',complete:function(){}},t||{}),this.each(function(l,i){var s=e(i),a=e.extend(!0,t,n(s));if(void 0===s.attr("data-fileinput-disabled")){var p=a.title;s.attr("title")&&(p=s.attr("title"));var r=a.buttonClass;s.attr("class")&&(r=s.attr("class")),s.wrap('<span class="'+e.trim("fileinput "+r)+'"></span>'),s.closest(".fileinput").prepend(e("<span></span>").html(p)),s.closest(".fileinput").wrap(e('<span class="fileinput-wrapper"></span>')),"function"==typeof a.complete&&a.complete.call(this)}}).promise().done(function(){e(document).on("change",".fileinput input[type=file]",function(){var l=e(this),i=l.closest(".fileinput-wrapper"),s=l.val(),a=e.extend(!0,t,n(l));if(i.removeClass(a.selectedClass).find(".fileinput-name").remove(),l.prop("files")&&l.prop("files").length>1)if(a.showMultipleNames){for(var p=[],r=0,o=l[0].files.length;r<o;r++)p.push(l[0].files[r].name);s=p.join(", ")}else s=a.multipleText.replace("{0}",l[0].files.length);else s=s.substring(s.lastIndexOf("\\")+1,s.length);s&&i.addClass(a.selectedClass).append('<span class="fileinput-name">'+s+a.clearButton+"</span>")}),e(document).on("click",".fileinput-clear",function(l){l.preventDefault();var i=e(this).closest(".fileinput-wrapper"),s=i.find("input[type=file]"),a=e.extend(!0,t,n(s));s.replaceWith(s.val("").clone(!0)),i.find(".fileinput-name").remove(),i.find("input").trigger("change"),i.removeClass(a.selectedClass)})})}}(jQuery);